(this["webpackJsonp@fseehawer/react-circular-slider"]=this["webpackJsonp@fseehawer/react-circular-slider"]||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(8),l=a.n(r),i=(a(14),a(1)),c=a(6),s=a(3),d=a(2),u=a.n(d),p=function(e,t){switch(t.type){case"init":case"setKnobPosition":return Object(i.a)({},e,{},t.payload);case"onMouseDown":case"onMouseUp":case"setInitialKnobPosition":return Object(i.a)({},e,{},t.payload);default:throw new Error}},m=function(e,t){var a=Object(o.useRef)(null);Object(o.useEffect)((function(){a.current=t}),[t]),Object(o.useEffect)((function(){if("undefined"!==typeof u.a){var t=function(e){return a.current(e)};return u.a.addEventListener(e,t,{passive:!1}),function(){u.a.removeEventListener(e,t)}}}),[e])},f=function(){var e=Object(o.useState)(!0),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(o.useEffect)((function(){n(!1)}),[]),a},h=(a(16),function(e){var t=e.isDragging,a=e.knobPosition,o=e.knobColor,r=e.knobSize,l=e.hideKnob,c=e.onMouseDown,s=e.trackSize,d=e.children,u={knob:{position:"absolute",left:"-".concat(r/2-s/2,"px"),top:"-".concat(r/2-s/2,"px"),cursor:"grab",zIndex:3},dragging:{cursor:"grabbing"},pause:{animationPlayState:"paused"},animation:{transformOrigin:"50% 50%",animationTimingFunction:"ease-out",animationDuration:"1500ms",animationIterationCount:"infinite",animationName:"pulse"},hide:{opacity:0}};return n.a.createElement("div",{style:Object(i.a)({transform:"translate(".concat(a.x,"px, ").concat(a.y,"px)")},u.knob,{},t&&u.dragging,{},l&&u.hide),onMouseDown:c,onTouchStart:c},n.a.createElement("svg",{width:"".concat(r,"px"),height:"".concat(r,"px"),viewBox:"0 0 ".concat(r," ").concat(r)},n.a.createElement("circle",{style:Object(i.a)({},u.animation,{},t&&u.pause),fill:o,fillOpacity:"0.2",stroke:"none",cx:r/2,cy:r/2,r:r/2}),n.a.createElement("circle",{fill:o,stroke:"none",cx:r/2,cy:r/2,r:2*r/3/2}),d||n.a.createElement("svg",{width:"".concat(r,"px"),height:"".concat(r,"px"),viewBox:"0 0 36 36"},n.a.createElement("rect",{fill:"#FFFFFF",x:"14",y:"14",width:"8",height:"1"}),n.a.createElement("rect",{fill:"#FFFFFF",x:"14",y:"17",width:"8",height:"1"}),n.a.createElement("rect",{fill:"#FFFFFF",x:"14",y:"20",width:"8",height:"1"}))))}),v=function(e){var t=e.labelColor,a=e.labelBottom,o=e.labelFontSize,r=e.valueFontSize,l=e.appendToValue,c=e.prependToValue,s=e.verticalOffset,d=e.hideLabelValue,u=e.label,p={labels:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"".concat(t),userSelect:"none",zIndex:1},value:{fontSize:"".concat(r),position:"relative"},bottomMargin:{marginBottom:"calc(".concat(s,")")},appended:{position:"absolute",right:"0",top:"0",transform:"translate(100%, 0)"},prepended:{position:"absolute",left:"0",top:"0",transform:"translate(-100%, 0)"},hide:{display:"none"}};return console.log(u),n.a.createElement("div",{style:Object(i.a)({},p.labels,{},d&&p.hide)},a||n.a.createElement("div",{style:{fontSize:o}},u),n.a.createElement("div",{style:Object(i.a)({},p.value,{},!a&&p.bottomMargin)},n.a.createElement("code",null,n.a.createElement("span",{style:p.prepended},c),(null===u||void 0===u?void 0:u.value)||u,n.a.createElement("span",{style:p.appended},l))),a&&n.a.createElement("div",{style:{fontSize:o}},u))},b=function(e){var t=e.width,a=e.limit,o=(e.max,e.label),r=e.labelColor,l=e.labelFontSize,i=e.activedlabelColor,c=e.direction,s=e.strokeDasharray,d=e.strokeDashoffset,u=e.progressColorFrom,p=e.progressColorTo,m=e.trackColor,f=e.doubleLineColor,h=e.progressSize,v=e.trackSize,b=e.svgFullPath,g=e.radiansOffset,k=e.progressLineCap,y=e.offsetAngle,E=e.data,C=e.activedItem,x=e.onLableClick,F={svg:{position:"relative",zIndex:2},path:{transform:"rotate(".concat(g,"rad) ").concat(-1===c?"scale(-1, 1)":"scale(1, 1)"),transformOrigin:"center center"},label:{transform:"translateY(40px)"},text:{textAnchor:"middle",fontSize:l,fill:r,cursor:"pointer"},activedTitle:{fill:i,transition:"all 0.6s ease-in-out"}},S=v/2,O=s*(360-a)/360,w=t/2+30,z=E?a/E.length:1;return n.a.createElement("svg",{width:"".concat(t,"px"),height:"".concat(t,"px"),viewBox:"0 0 ".concat(t," ").concat(t),overflow:"visible",style:F.svg},n.a.createElement("defs",null,n.a.createElement("linearGradient",{id:o,x1:"100%",x2:"0%"},n.a.createElement("stop",{offset:"0%",stopColor:u}),n.a.createElement("stop",{offset:"100%",stopColor:p}))),n.a.createElement("path",{className:"progress-line",style:F.path,strokeDasharray:s,strokeDashoffset:O,strokeWidth:v,stroke:m,strokeLinecap:"round",fill:"none",d:"\n            M ".concat(t/2,", ").concat(t/2,"\n            m 0, -").concat(t/2-S,"\n            a ").concat(t/2-S,",").concat(t/2-S," 0 0,1 0,").concat(t-2*S,"\n            a -").concat(t/2-S,",-").concat(t/2-S," 0 0,1 0,-").concat(t-2*S,"\n        ")}),n.a.createElement("path",{style:F.path,strokeDasharray:.9*s,strokeDashoffset:.9*d,strokeWidth:h,strokeLinecap:"flat",fill:"none",stroke:f,d:"\n            M ".concat(t/2,", ").concat(t/2,"\n            m 0, -").concat(t/2-h,"\n            a ").concat(t/2-h,",").concat(t/2-h," 0 0,1 0,").concat(t-2*h,"\n            a -").concat(t/2-h,",-").concat(t/2-h," 0 0,1 0,-").concat(t-2*h,"\n        ")}),n.a.createElement("path",{style:F.path,ref:b,strokeDasharray:s,strokeDashoffset:d,strokeWidth:h,strokeLinecap:"round"!==k?"butt":"round",fill:"none",stroke:"url(#".concat(o,")"),d:"\n            M ".concat(t/2,", ").concat(t/2,"\n            m 0, -").concat(t/2-S,"\n            a ").concat(t/2-S,",").concat(t/2-S," 0 0,1 0,").concat(t-2*S,"\n            a -").concat(t/2-S,",-").concat(t/2-S," 0 0,1 0,-").concat(t-2*S,"\n        ")}),n.a.createElement("path",{id:"myTextPath",d:"\n          M ".concat(w,",").concat(w," m ").concat(-w,", 0  \n          A ").concat(w,",").concat(w," 0 0 1 0,").concat(w," \n          A ").concat(w,",").concat(w," 0 0 1 -").concat(w,",0 \n          A ").concat(w,",").concat(w," 0 0 1 0,-").concat(w," \n          A ").concat(w,",").concat(w," 0 0 1 0,").concat(w,"\n        "),transform:"translate(".concat(t/2,",").concat(t/2,")"),fill:"none",stroke:"none"}),n.a.createElement("text",{style:F.text},null===E||void 0===E?void 0:E.map((function(e,t){return n.a.createElement("textPath",{xlinkHref:"#myTextPath",dy:"5",startOffset:"".concat((z*t+z/2-y)/3.6,"%"),key:t},n.a.createElement("tspan",{dy:"5",style:t===C&&F.activedTitle||{},onClick:function(){return x(t)}},e.value))}))))},g={top:Math.PI/2,right:0,bottom:-Math.PI/2,left:-Math.PI},k=function(e,t){return g[e]+t/180*Math.PI},y=function(e){return e<0?-1:1},E=function(e){return e*Math.PI/180},C=function(e,t){for(var a=[],o=e;o<=t;o++)a.push(o);return a},x={circularSlider:{position:"relative",display:"inline-block",opacity:0,transition:"opacity 1s ease-in",margin:"45px"},mounted:{opacity:1}},F=function(e){var t=e.label,a=void 0===t?"ANGLE":t,r=e.width,l=void 0===r?280:r,d=e.direction,g=void 0===d?1:d,F=e.min,S=void 0===F?0:F,O=e.max,w=void 0===O?360:O,z=e.limit,D=void 0===z?360:z,M=e.offsetAngle,P=void 0===M?0:M,j=e.knobColor,T=void 0===j?"#4e63ea":j,A=e.knobSize,I=void 0===A?36:A,L=e.knobPosition,V=void 0===L?"top":L,B=e.labelBottom,N=void 0!==B&&B,K=e.labelColor,R=void 0===K?"#272b77":K,W=e.labelFontSize,G=void 0===W?"1rem":W,U=e.activedlabelColor,Y=void 0===U?"#c54a1b":U,J=e.valueFontSize,X=void 0===J?"3rem":J,$=e.appendToValue,_=void 0===$?"":$,H=e.prependToValue,q=void 0===H?"":H,Q=e.verticalOffset,Z=void 0===Q?"1.5rem":Q,ee=e.hideLabelValue,te=void 0!==ee&&ee,ae=e.hideKnob,oe=void 0!==ae&&ae,ne=e.knobDraggable,re=void 0===ne||ne,le=e.progressColorFrom,ie=void 0===le?"#80C3F3":le,ce=e.progressColorTo,se=void 0===ce?"#4990E2":ce,de=e.progressSize,ue=void 0===de?8:de,pe=e.trackColor,me=void 0===pe?"#DDDEFB":pe,fe=e.trackSize,he=void 0===fe?8:fe,ve=e.doubleLineColor,be=void 0===ve?"#DDDEFB":ve,ge=e.data,ke=void 0===ge?[]:ge,ye=e.dataIndex,Ee=void 0===ye?0:ye,Ce=e.progressLineCap,xe=void 0===Ce?"round":Ce,Fe=e.renderLabelValue,Se=void 0===Fe?null:Fe,Oe=e.cursor,we=e.onChange,ze=void 0===we?function(e){}:we,De={mounted:!1,isDragging:!1,width:l,radius:l/2,knobPosition:V,label:0,data:ke,radians:0,offset:0,knob:{x:0,y:0},dashFullArray:0,dashFullOffset:0},Me=f(),Pe=Object(o.useReducer)(p,De),je=Object(s.a)(Pe,2),Te=je[0],Ae=je[1],Ie=Object(o.useRef)(null),Le=Object(o.useRef)(null),Ve=!Me&&"ontouchstart"in u.a,Be={DOWN:Ve?"touchstart":"mousedown",UP:Ve?"touchend":"mouseup",MOVE:Ve?"touchmove":"mousemove"},Ne=n.a.useState(null),Ke=Object(s.a)(Ne,2),Re=Ke[0],We=Ke[1],Ge=n.a.useState(null),Ue=Object(s.a)(Ge,2),Ye=Ue[0],Je=Ue[1],Xe=Object(o.useCallback)((function(e){var t=Te.radius-he/2,a=e+k(V,P),o=(a>0?a:2*Math.PI+a)*(360/(2*Math.PI));if("bottom"===V&&o>D)return!0;if("top"===V&&o<360-D)return o=360-D,!0;var n=o/360*Te.dashFullArray;o=-1===y(g)?360-o:o;var r=Te.data.length/360,l=Math.round(o*r),i=Math.floor(o*ke.length/D);We(i),Te.data[l]!==Te.label&&ze(Te.data[l]),console.log(Te.data[l]),Ae({type:"setKnobPosition",payload:{dashFullOffset:-1===y(g)?n:Te.dashFullArray-n,label:Te.data[l],knob:{x:t*Math.cos(e)+t,y:t*Math.sin(e)+t}}})}),[P,D,Te.dashFullArray,Te.radius,Te.data,Te.label,V,he,g,ze]),$e=Object(o.useCallback)((function(e){if(Te.isDragging){var t;e.preventDefault(),"touchmove"===e.type&&(t=e.changedTouches[0]);var a=function(e){var t,a,o,n,r,l,i,c,s=e.current.getBoundingClientRect(),d=!Me&&((null!==(t=null===u.a||void 0===u.a?void 0:u.a.pageXOffset)&&void 0!==t?t:0)||(null!==(a=null===(o=document)||void 0===o||null===(n=o.documentElement)||void 0===n?void 0:n.scrollLeft)&&void 0!==a?a:0)),p=!Me&&((null!==(r=null===u.a||void 0===u.a?void 0:u.a.pageYOffset)&&void 0!==r?r:0)||(null!==(l=null===(i=document)||void 0===i||null===(c=i.documentElement)||void 0===c?void 0:c.scrollTop)&&void 0!==l?l:0));return{top:s.top+p,left:s.left+d}},o=("touchmove"===e.type?t.pageX:e.pageX)-(a(Ie).left+Te.radius),n=("touchmove"===e.type?t.pageY:e.pageY)-(a(Ie).top+Te.radius),r=Math.atan2(n,o);Xe(r)}}),[Te.isDragging,Te.radius,Xe,Me]);Object(o.useEffect)((function(){Ae({type:"init",payload:{mounted:!0,data:Te.data.length?Object(c.a)(Te.data):Object(c.a)(C(S,w)),dashFullArray:Le.current.getTotalLength?Le.current.getTotalLength():0}})}),[w,S]),Object(o.useEffect)((function(){var e=null===Re?Ee:Re,t=Te.data.length,a=e>t-1?t-1:e;if(t){var o=D/t,n=E(o)/2;Ae({type:"setInitialKnobPosition",payload:{radians:Math.PI/2-k(Te.knobPosition,P),offset:n}});var r=y(g)*a*o,l=E(r)-k(Te.knobPosition,P);return Xe(l+n*y(g))}}),[Te.dashFullArray,Te.knobPosition,Te.data.length,Ee,g,Ye]),m(Be.MOVE,$e),m(Be.UP,(function(){Ae({type:"onMouseUp",payload:{isDragging:!1}}),setTimeout((function(){Je(Math.random())}),200)}));var _e=a.replace(/[\W_]/g,"_");return n.a.createElement("div",{style:Object(i.a)({},x.circularSlider,{},Te.mounted&&x.mounted),ref:Ie},n.a.createElement(b,{width:l,label:_e,limit:D,max:w,direction:g,strokeDasharray:Te.dashFullArray,strokeDashoffset:Te.dashFullOffset,svgFullPath:Le,progressSize:ue,progressColorFrom:ie,progressColorTo:se,progressLineCap:xe,doubleLineColor:be,trackColor:me,trackSize:he,radiansOffset:Te.radians,offsetAngle:P,labelColor:R,labelFontSize:G,activedlabelColor:Y,data:ke,activedItem:Re,onLableClick:function(e){We(e),Je(Math.random())}}),re&&n.a.createElement(h,{isDragging:Te.isDragging,knobPosition:{x:Te.knob.x,y:Te.knob.y},knobSize:I,knobColor:T,trackSize:he,hideKnob:oe,onMouseDown:function(){Ae({type:"onMouseDown",payload:{isDragging:!0}})}},Oe),Se||n.a.createElement(v,{label:a,labelColor:R,labelBottom:N,labelFontSize:G,verticalOffset:Z,valueFontSize:X,appendToValue:_,prependToValue:q,hideLabelValue:te,value:Te.label}))},S=function(){var e={wrapper:{margin:"2rem"},h3:{margin:"3rem 0 2rem 0"},pre:{fontSize:"0.9rem",borderRadius:"0.3rem",backgroundColor:"#eeeeee",padding:"0.5rem"},slider:{padding:"0 0 0.5rem 0"}};return n.a.createElement("div",{style:e.wrapper},n.a.createElement("h3",{style:e.h3},'Anticlockwise rotation with the knob positioned to the right and "\xb0" appended to the value:'),n.a.createElement("div",{style:e.slider},n.a.createElement(F,{limit:270,offsetAngle:-45,direction:1,data:[{key:1,value:"STAFFING"},{key:2,value:"TEAM"},{key:1,value:"PROJECT"},{key:1,value:"MANAGED"}],knobPosition:"bottom",valueFontSize:"4rem",renderLabelValue:!1,progressLineCap:"flat",progressSize:24,trackColor:"#eeeeee",trackSize:24})),n.a.createElement("pre",{className:e.pre},'<CircularSlider\n  min={0}\n  max={360}\n  limit={270}\n  offsetAngle={-45}\n  direction={1}\n  knobPosition="bottom"\n  appendToValue="\xb0"\n  valueFontSize="4rem"\n/>'),n.a.createElement("h3",{className:e.h3},'An initial value of 20, "$" prepended and "K" appended to the value with a custom knob icon and the label on the bottom:'),n.a.createElement("div",{className:e.slider}),n.a.createElement("pre",{className:e.pre},'import { ReactComponent as PowerIcon } from \'./assets/power.svg\';\n.\n.\n.\n<CircularSlider\n    label="savings"\n    min={0}\n    max={100}\n    dataIndex={20}\n    prependToValue="$"\n    appendToValue="K"\n    labelColor="#005a58"\n    labelBottom={true}\n    knobColor="#005a58"\n    knobSize={72}\n    progressColorFrom="#00bfbd"\n    progressColorTo="#005a58"\n    progressSize={24}\n    trackColor="#eeeeee"\n    trackSize={24}\n>\n    <DragIcon x=\'22\' y=\'22\' width=\'28px\' height=\'28px\' />\n</CircularSlider>'),n.a.createElement("h3",{className:e.h3},"A flat line cap with the track size smaller than the progress track size and a smiley knob:"),n.a.createElement("div",{className:e.slider}),n.a.createElement("pre",{className:e.pre},'\nimport { ReactComponent as EmojiIcon } from \'./assets/emoji.svg\';\n.\n.\n.\n<CircularSlider\n    width={200}\n    progressLineCap="flat"\n    dataIndex={1}\n    label="Alphabet"\n    data=["A","B","C"]//...\n    labelColor="#212121"\n    valueFontSize="6rem"\n    verticalOffset="1rem"\n    knobColor="#212121"\n    progressColorFrom="#ff8500"\n    progressColorTo="#a15400"\n    progressSize={8}\n    trackColor="#eeeeee"\n    trackSize={4}\n>\n    <EmojiIcon x="9" y="9" width="18px" height="18px" />\n</CircularSlider>'))};l.a.render(n.a.createElement(S,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.43db22ad.chunk.js.map